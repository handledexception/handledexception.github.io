<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-5b58b707296fa47b"/><meta charSet="utf-8" class="jsx-5b58b707296fa47b"/><meta name="Description" content="The blog of Paul Hindt" class="jsx-5b58b707296fa47b"/><title class="jsx-5b58b707296fa47b">Handled Exception</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/9175801394de6395.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9175801394de6395.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-abd9b5772566dc74.js" defer=""></script><script src="/_next/static/chunks/pages/_app-21c36a864c9d1e92.js" defer=""></script><script src="/_next/static/chunks/80efaec8-5a35e225073e564a.js" defer=""></script><script src="/_next/static/chunks/833-11cb2ad8a6d193e6.js" defer=""></script><script src="/_next/static/chunks/pages/blog/post-1-a112b5fd86154ff1.js" defer=""></script><script src="/_next/static/fNZLvSH8Bqja3xI1_tN8a/_buildManifest.js" defer=""></script><script src="/_next/static/fNZLvSH8Bqja3xI1_tN8a/_ssgManifest.js" defer=""></script><style id="__jsx-5b58b707296fa47b">@import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap|Roboto:wght@400;700&display=swap");html,body{margin:0;padding:0;font-family:"Roboto",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;background:#333;color:#fff;font-size:1rem}h1,h2,h3,h4,h5,h6{font-weight:700;font-family:"Nunito",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}a{color:#fff}.content{max-width:600px;margin:2rem auto;padding:0 1rem}</style><style id="__jsx-ce2f52cce5037c1">nav.jsx-ce2f52cce5037c1{background:#493458;width:auto;padding:0 2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:1rem}</style><style id="__jsx-7194d9c085a5c146">h1.jsx-7194d9c085a5c146{font-size:1.5rem;font-weight:700;color:#f39c12}.great-title.jsx-7194d9c085a5c146{font-size:2rem}.details.jsx-7194d9c085a5c146 span.jsx-7194d9c085a5c146{color:#bdbdbd;margin-right:1rem}.details.jsx-7194d9c085a5c146{margin-bottom:1rem}</style></head><body><div id="__next"><main class="jsx-5b58b707296fa47b"><nav class="jsx-ce2f52cce5037c1"><h1 class="jsx-ce2f52cce5037c1">Handled Exception</h1>A blog by Paul Hindt<div class="jsx-ce2f52cce5037c1"><a href="/">Blog</a> | <a href="https://github.com/handledexception">Github</a></div></nav><div class="jsx-5b58b707296fa47b content"><h1 class="jsx-7194d9c085a5c146 great-title">Direct3D 11 in C: Lesson 1</h1><div class="jsx-7194d9c085a5c146 details"><span class="jsx-7194d9c085a5c146">January 22, 2023</span><span role="img" aria-label="one coffee" class="jsx-7194d9c085a5c146">☕ <!-- -->2 min read</span></div><article><h2>Getting Started</h2>
<p>There is a wealth of documentation and tutorials online showing how to work with Direct3D 11 (D3D11) from C++ but a lack of examples for the C programmer who wants to use D3D11. This guide will show you how to write a D3D11 application in the C programming language. We will be using CMake as the build system. Complete working examples can be found on Github.</p>
<p>Prerequisites:</p>
<ul>
<li><a href="https://gitforwindows.org/">Git for Windows</a></li>
<li><a href="https://cmake.org/download/">CMake for Windows</a></li>
<li><a href="https://visualstudio.microsoft.com/vs/community/">Visual Studio</a> - The examples were written under Visual Studio Community 2019 but should compile in older versions.</li>
</ul>
<p><a href="https://github.com/handledexception/D3D11-C-Lesson1">Working example</a></p>
<h2>Creating a window</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/windows/win32/learnwin32/creating-a-window">MSDN</a></li>
</ul>
<p>First things first, let&#x27;s create our main procedure and create the window for our D3D11 application. The following code is the bare minimum required to create a window with a close button that can exit the application when clicked.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><div style="display:inline-block;margin-left:16px"><span>int WINAPI wWinMain(HINSTANCE instance, HINSTANCE instance_prev, PWSTR cmd_line, int cmd_show)</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    // Register the window class.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    const wchar_t class_name[]  = L&quot;D3D11 in C: Lesson 1&quot;;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    WNDCLASS wc = { 0 };</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    wc.lpfnWndProc   = WindowProc;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    wc.hInstance     = instance;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    wc.lpszClassName = class_name;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    RegisterClass(&amp;wc);</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    // Create the window.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    HWND hwnd = CreateWindowEx(</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        0,                              // Optional window styles.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        class_name,                     // Window class</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        L&quot;Learn to Program Windows&quot;,    // Window text</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        WS_OVERLAPPEDWINDOW,            // Window style</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        // Size and position</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        NULL,       // Parent window</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        NULL,       // Menu</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        instance,  // Instance handle</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        NULL        // Additional application data</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        );</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    if (hwnd == NULL)</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        return 0;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    ShowWindow(hwnd, cmd_show);</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    MSG msg = { 0 };</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    while (GetMessage(&amp;msg, NULL, 0, 0) &gt; 0)</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        TranslateMessage(&amp;msg);</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        DispatchMessage(&amp;msg);</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    return 0;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/post-1","query":{},"buildId":"fNZLvSH8Bqja3xI1_tN8a","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>